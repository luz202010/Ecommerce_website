{"ast":null,"code":"var _jsxFileName = \"/Users/luzhou/Downloads/Github/Ecommerce_website/src/components/Sum.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { deleteProduct, fetchSummary, searchProduct } from \"../actions/orderActions\";\nimport { fetchProducts } from \"../actions/productActions\";\nimport formatCurrency from \"../util\";\n\nclass Sum extends Component {\n  constructor() {\n    super();\n\n    this.handleInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      orders: [],\n      keyword: ''\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchSummary(res => {\n      this.setState({\n        orders: res\n      });\n    });\n  }\n\n  deleteClick(id) {\n    this.props.deleteProduct(id, res => {\n      alert(res.message);\n      let orders = [];\n\n      for (let i = 0; i < this.state.orders.length; i++) {\n        let row = this.state.orders[i];\n\n        if (row._id != id) {\n          orders.push(row);\n        }\n      }\n\n      this.setState({\n        orders\n      });\n    });\n  }\n\n  searchProduct() {\n    this.props.searchProduct(this.state.keyword, res => {\n      this.setState({\n        orders: res\n      });\n    });\n  }\n\n  render() {\n    const orders = this.state.orders;\n    return !orders || orders == null ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, \"Orders\") : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orders\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, \"Stock Summary\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter item's title\",\n      name: \"keyword\",\n      required: true,\n      onChange: this.handleInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:;\",\n      className: \"search\",\n      onClick: this.searchProduct.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    }, \"Search\")))), /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, \"TITLE\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, \"PRICE\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \"STOCK\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, \"DELETE\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, orders.map(order => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, order._id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, order.title), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, \" \", formatCurrency(order.price)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, order.countInStock), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:;\",\n      onClick: this.deleteClick.bind(this, order._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, \"DELETE\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/update/\" + order._id,\n      onClick: () => fetchProducts(order),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 33\n      }\n    }, \"UPDATE\")))))));\n  }\n\n}\n\nexport default connect(state => ({// orders: state.order.orders,\n}), {\n  fetchSummary,\n  deleteProduct,\n  searchProduct\n})(Sum);","map":{"version":3,"sources":["/Users/luzhou/Downloads/Github/Ecommerce_website/src/components/Sum.js"],"names":["React","Component","connect","deleteProduct","fetchSummary","searchProduct","fetchProducts","formatCurrency","Sum","constructor","handleInput","e","setState","target","name","value","state","orders","keyword","componentDidMount","props","res","deleteClick","id","alert","message","i","length","row","_id","push","render","bind","map","order","title","price","countInStock"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {deleteProduct, fetchSummary, searchProduct} from \"../actions/orderActions\";\nimport {fetchProducts} from \"../actions/productActions\"\nimport formatCurrency from \"../util\";\n\nclass Sum extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            orders: [],\n            keyword: ''\n        }\n    }\n\n    componentDidMount() {\n        this.props.fetchSummary((res) => {\n            this.setState({\n                orders: res\n            })\n        });\n    }\n\n    deleteClick(id) {\n        this.props.deleteProduct(id, (res) => {\n            alert(res.message)\n            let orders = []\n            for (let i = 0; i < this.state.orders.length; i++) {\n                let row = this.state.orders[i];\n                if (row._id != id) {\n                    orders.push(row)\n                }\n            }\n            this.setState({\n                orders\n            })\n        })\n    }\n\n    searchProduct() {\n        this.props.searchProduct(this.state.keyword, (res) => {\n            this.setState({\n                orders: res\n            })\n        })\n    }\n\n    handleInput = (e) => {\n        this.setState({[e.target.name]: e.target.value});\n    };\n\n    render() {\n        const orders = this.state.orders;\n        return !orders || orders == null ? (\n            <div>Orders</div>\n        ) : (\n            <div className=\"orders\">\n                <h2>Stock Summary</h2>\n                <div>\n                    <ul>\n                        <li><input type=\"text\" placeholder=\"Enter item's title\" name=\"keyword\"\n                                   required\n                                   onChange={this.handleInput}/></li>\n                        <li><a href=\"javascript:;\" className=\"search\" onClick={this.searchProduct.bind(this)}>Search</a></li>\n                    </ul>\n                </div>\n                <table>\n                    <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>TITLE</th>\n                        <th>PRICE</th>\n                        <th>STOCK</th>\n                        <th>DELETE</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {orders.map((order) => (\n                        <tr>\n                            <td>{order._id}</td>\n                            <td>{order.title}</td>\n                            <td> {formatCurrency(order.price)}</td>\n                            <td>{order.countInStock}</td>\n                            <td>\n                                <a href=\"javascript:;\" onClick={this.deleteClick.bind(this, order._id)}>DELETE</a>\n                            </td>\n                            <td>\n                                <a href={\"/update/\" + order._id} onClick={() => fetchProducts(order)}>UPDATE</a>\n                            </td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    (state) => ({\n        // orders: state.order.orders,\n    }),\n    {\n        fetchSummary,\n        deleteProduct,\n        searchProduct\n    }\n)(Sum);\n"]},"metadata":{},"sourceType":"module"}